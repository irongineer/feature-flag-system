# ğŸ”§ ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“‹ æ¦‚è¦

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°ã‚·ã‚¹ãƒ†ãƒ è‡ªä½“ã®é–‹ç™ºãƒ»æ”¹è‰¯ã‚’è¡Œã†é–‹ç™ºè€…å‘ã‘ã®æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè€…ã®è²¬å‹™

### æ©Ÿèƒ½é–‹ç™º
- âœ… æ–°æ©Ÿèƒ½ã®è¨­è¨ˆãƒ»å®Ÿè£…
- âœ… æ—¢å­˜æ©Ÿèƒ½ã®æ”¹è‰¯ãƒ»æœ€é©åŒ–
- âœ… ãƒã‚°ä¿®æ­£ãƒ»å“è³ªå‘ä¸Š
- âœ… APIè¨­è¨ˆãƒ»æ‹¡å¼µ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- âœ… ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- âœ… ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ»å¯ç”¨æ€§
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

### é–‹ç™ºåŸºç›¤
- âœ… é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ãƒ»æ”¹å–„
- âœ… ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ãƒ»å“è³ªä¿è¨¼
- âœ… CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- âœ… é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®æ•´å‚™

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸ’¡ æœ€åˆã«ã‚„ã‚‹ã“ã¨
1. [é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰](#é–‹ç™ºç’°å¢ƒ)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç†è§£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [é–‹ç™ºãƒ•ãƒ­ãƒ¼ã®ç¢ºèª](#é–‹ç™ºãƒ•ãƒ­ãƒ¼)
4. [ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ç¢ºèª](#ãƒ†ã‚¹ãƒˆç’°å¢ƒ)

### ğŸ”§ é–‹ç™ºç’°å¢ƒ
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-org/feature-flag-system.git
cd feature-flag-system

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºç’°å¢ƒã®èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
npm test
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ğŸ“ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client Apps   â”‚    â”‚   Admin Panel   â”‚    â”‚   Monitoring    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  - Web Apps     â”‚    â”‚  - Flag Mgmt    â”‚    â”‚  - Metrics      â”‚
â”‚  - Mobile Apps  â”‚    â”‚  - User Mgmt    â”‚    â”‚  - Alerts       â”‚
â”‚  - APIs         â”‚    â”‚  - Analytics    â”‚    â”‚  - Dashboards   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Load Balancer       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      API Gateway         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flag Service  â”‚    â”‚  Admin Service  â”‚    â”‚ Analytics Serviceâ”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - Evaluation    â”‚    â”‚ - CRUD Ops      â”‚    â”‚ - Metrics       â”‚
â”‚ - Caching       â”‚    â”‚ - User Auth     â”‚    â”‚ - Reporting     â”‚
â”‚ - Validation    â”‚    â”‚ - Audit Logs    â”‚    â”‚ - ML/AI         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Database            â”‚
                    â”‚                          â”‚
                    â”‚ - PostgreSQL/MySQL       â”‚
                    â”‚ - Redis (Cache)          â”‚
                    â”‚ - InfluxDB (Metrics)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
```typescript
// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
frontend: {
  framework: 'React 18',
  language: 'TypeScript',
  styling: 'Tailwind CSS',
  state_management: 'Redux Toolkit',
  testing: 'Jest + React Testing Library'
}

// ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
backend: {
  runtime: 'Node.js 18',
  framework: 'Express.js',
  language: 'TypeScript',
  database: 'PostgreSQL',
  cache: 'Redis',
  testing: 'Jest + Supertest'
}

// ã‚¤ãƒ³ãƒ•ãƒ©
infrastructure: {
  containerization: 'Docker',
  orchestration: 'Kubernetes',
  cloud: 'AWS/GCP/Azure',
  monitoring: 'Prometheus + Grafana',
  logging: 'ELK Stack'
}
```

## ğŸ“š é–‹ç™ºã‚¬ã‚¤ãƒ‰

### ğŸ“– åŸºç¤çŸ¥è­˜ï¼ˆæ¨å®šæ™‚é–“: 4-6æ™‚é–“ï¼‰
1. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](./architecture.md)
2. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](./data-model.md)
3. [APIè¨­è¨ˆåŸå‰‡](./api-design.md)
4. [é–‹ç™ºè¦ç´„](./development-conventions.md)

### ğŸ”¨ é–‹ç™ºç’°å¢ƒï¼ˆæ¨å®šæ™‚é–“: 2-3æ™‚é–“ï¼‰
1. [é–‹ç™ºç’°å¢ƒæ§‹ç¯‰](./development-setup.md)
2. [ãƒ‡ãƒãƒƒã‚°æ–¹æ³•](./debugging.md)
3. [ãƒ†ã‚¹ãƒˆç’°å¢ƒ](./testing-environment.md)
4. [é–‹ç™ºãƒ„ãƒ¼ãƒ«](./development-tools.md)

### ğŸ—ï¸ å®Ÿè£…ã‚¬ã‚¤ãƒ‰ï¼ˆæ¨å®šæ™‚é–“: 8-12æ™‚é–“ï¼‰
1. [æ–°æ©Ÿèƒ½ã®å®Ÿè£…](./feature-implementation.md)
2. [APIæ‹¡å¼µ](./api-extension.md)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](./database-design.md)
4. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](./performance-optimization.md)

### ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ï¼ˆæ¨å®šæ™‚é–“: 4-6æ™‚é–“ï¼‰
1. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](./testing-strategy.md)
2. [ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ](./unit-testing.md)
3. [çµ±åˆãƒ†ã‚¹ãƒˆ](./integration-testing.md)
4. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ](./performance-testing.md)

## ğŸ”§ ã‚³ã‚¢æ©Ÿèƒ½ã®å®Ÿè£…

### ğŸš€ ãƒ•ãƒ©ã‚°è©•ä¾¡ã‚¨ãƒ³ã‚¸ãƒ³
```typescript
// ãƒ•ãƒ©ã‚°è©•ä¾¡ã®æ ¸ã¨ãªã‚‹ãƒ­ã‚¸ãƒƒã‚¯
export class FlagEvaluator {
  async evaluate(
    flagKey: string, 
    context: EvaluationContext
  ): Promise<EvaluationResult> {
    // 1. ãƒ•ãƒ©ã‚°ã®å–å¾—
    const flag = await this.flagRepository.getFlag(flagKey);
    if (!flag) {
      return this.getDefaultResult(flagKey);
    }

    // 2. å¯¾è±¡åˆ¤å®š
    const isTargeted = await this.targetingEngine.isTargeted(flag, context);
    if (!isTargeted) {
      return this.getDefaultResult(flagKey);
    }

    // 3. ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³é¸æŠ
    const variation = await this.variationSelector.select(flag, context);
    
    // 4. çµæœã®è¨˜éŒ²
    await this.recordEvaluation(flagKey, context, variation);

    return {
      flagKey,
      value: variation.value,
      variationKey: variation.key,
      reason: 'TARGETED'
    };
  }
}
```

### ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³
```typescript
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒ†ãƒŠãƒ³ãƒˆãƒ»æ¡ä»¶ã«åŸºã¥ãã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°
export class TargetingEngine {
  async isTargeted(
    flag: FeatureFlag, 
    context: EvaluationContext
  ): Promise<boolean> {
    // 1. åŸºæœ¬çš„ãªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    if (!this.matchesEnvironment(flag, context)) {
      return false;
    }

    // 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ã§ã®çµã‚Šè¾¼ã¿
    if (!this.matchesUserAttributes(flag, context)) {
      return false;
    }

    // 3. ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ¡ä»¶ã®ç¢ºèª
    if (!await this.matchesSegments(flag, context)) {
      return false;
    }

    // 4. ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
    if (!this.matchesPercentageRollout(flag, context)) {
      return false;
    }

    return true;
  }

  private matchesUserAttributes(
    flag: FeatureFlag, 
    context: EvaluationContext
  ): boolean {
    return flag.targeting.userAttributes.every(attr => 
      this.evaluateCondition(attr, context)
    );
  }

  private evaluateCondition(
    condition: AttributeCondition, 
    context: EvaluationContext
  ): boolean {
    const value = context.getAttribute(condition.attribute);
    
    switch (condition.operator) {
      case 'equals':
        return value === condition.value;
      case 'in':
        return condition.values.includes(value);
      case 'contains':
        return value.includes(condition.value);
      case 'regex':
        return new RegExp(condition.value).test(value);
      default:
        return false;
    }
  }
}
```

### ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼
```typescript
// ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã¨åˆ†æ
export class MetricsCollector {
  async recordEvaluation(
    flagKey: string,
    context: EvaluationContext,
    result: EvaluationResult
  ): Promise<void> {
    const metrics = {
      timestamp: Date.now(),
      flagKey,
      userId: context.userId,
      tenantId: context.tenantId,
      environment: context.environment,
      variation: result.variationKey,
      reason: result.reason,
      responseTime: result.responseTime,
      cached: result.cached
    };

    // 1. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”¨ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹
    await this.publishToStream(metrics);

    // 2. åˆ†æç”¨ã®ãƒãƒƒãƒå‡¦ç†
    await this.queueForBatch(metrics);

    // 3. ã‚¢ãƒ©ãƒ¼ãƒˆåˆ¤å®š
    await this.checkAlerts(metrics);
  }

  async generateReport(
    flagKey: string,
    timeRange: TimeRange
  ): Promise<FlagReport> {
    const evaluations = await this.queryEvaluations(flagKey, timeRange);
    
    return {
      flagKey,
      timeRange,
      totalEvaluations: evaluations.length,
      uniqueUsers: new Set(evaluations.map(e => e.userId)).size,
      variationDistribution: this.calculateDistribution(evaluations),
      performanceMetrics: this.calculatePerformance(evaluations),
      trends: this.calculateTrends(evaluations)
    };
  }
}
```

## ğŸ”„ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### ğŸ“‹ é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹
```mermaid
graph TD
    A[Issueä½œæˆ] --> B[è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼]
    B --> C[å®Ÿè£…é–‹å§‹]
    C --> D[ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ]
    D --> E[çµ±åˆãƒ†ã‚¹ãƒˆ]
    E --> F[ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    F --> G[å“è³ªãƒã‚§ãƒƒã‚¯]
    G --> H[ãƒ‡ãƒ—ãƒ­ã‚¤]
    H --> I[æœ¬ç•ªãƒ†ã‚¹ãƒˆ]
    I --> J[ãƒªãƒªãƒ¼ã‚¹]
```

### ğŸ”§ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
```bash
# ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ
main          # æœ¬ç•ªç’°å¢ƒ
â”œâ”€â”€ develop   # é–‹ç™ºç’°å¢ƒ
â”œâ”€â”€ staging   # ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
â””â”€â”€ features  # æ©Ÿèƒ½é–‹ç™º
    â”œâ”€â”€ feature/new-targeting-engine
    â”œâ”€â”€ feature/metrics-improvement
    â””â”€â”€ feature/api-v2
```

### ğŸ“ ã‚³ãƒŸãƒƒãƒˆè¦ç´„
```bash
# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼
<type>(<scope>): <description>

[optional body]

[optional footer]

# ä¾‹
feat(api): add new targeting engine
fix(ui): resolve button alignment issue
docs(readme): update installation guide
test(e2e): add evaluation performance tests
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   E2E Tests     â”‚ <- å°‘æ•°ã€é«˜ä¾¡å€¤
         â”‚   (10-15%)      â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ Integration     â”‚ <- é©åº¦ã€API/DB
         â”‚ Tests (20-30%)  â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚  Unit Tests     â”‚ <- å¤šæ•°ã€é«˜é€Ÿ
         â”‚  (60-70%)       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ ãƒ†ã‚¹ãƒˆç¨®åˆ¥
```typescript
// ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
describe('FlagEvaluator', () => {
  it('should return default when flag not found', async () => {
    const evaluator = new FlagEvaluator(mockRepo);
    const result = await evaluator.evaluate('nonexistent', context);
    expect(result.reason).toBe('FLAG_NOT_FOUND');
  });
});

// çµ±åˆãƒ†ã‚¹ãƒˆ
describe('Flag API', () => {
  it('should evaluate flag correctly', async () => {
    const response = await request(app)
      .post('/api/evaluate')
      .send({ flagKey: 'test-flag', context })
      .expect(200);
    
    expect(response.body.enabled).toBe(true);
  });
});

// E2Eãƒ†ã‚¹ãƒˆ
describe('Flag Management Flow', () => {
  it('should create, enable, and evaluate flag', async () => {
    await createFlag('new-feature');
    await enableFlag('new-feature');
    const result = await evaluateFlag('new-feature', context);
    expect(result.enabled).toBe(true);
  });
});
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ğŸ“¦ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run test
      - run: npm run test:e2e
      - run: npm run build

  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - run: npm run deploy:production
```

### ğŸ³ Dockerè¨­å®š
```dockerfile
# Dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

### â˜¸ï¸ Kubernetesè¨­å®š
```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: feature-flag-api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: feature-flag-api
  template:
    metadata:
      labels:
        app: feature-flag-api
    spec:
      containers:
      - name: api
        image: feature-flag-api:latest
        ports:
        - containerPort: 3000
        env:
        - name: NODE_ENV
          value: "production"
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: url
```

## ğŸ“Š ç›£è¦–ãƒ»è¦³æ¸¬

### ğŸ“ˆ ãƒ¡ãƒˆãƒªã‚¯ã‚¹
```typescript
// ç›£è¦–ã™ã¹ããƒ¡ãƒˆãƒªã‚¯ã‚¹
const metrics = {
  // API ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  api: {
    requests_per_second: 1000,
    response_time_p95: 150,
    error_rate: 0.01
  },
  
  // ãƒ“ã‚¸ãƒã‚¹ ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  business: {
    flag_evaluations_per_day: 10000000,
    active_flags: 250,
    active_users: 50000
  },
  
  // ã‚¤ãƒ³ãƒ•ãƒ© ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  infrastructure: {
    cpu_usage: 45,
    memory_usage: 60,
    disk_usage: 30
  }
};
```

### ğŸ” ãƒ­ã‚°è¨­å®š
```typescript
// ãƒ­ã‚°è¨­å®š
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'app.log' }),
    new winston.transports.Console()
  ]
});

// æ§‹é€ åŒ–ãƒ­ã‚°
logger.info('Flag evaluated', {
  flagKey: 'new-feature',
  userId: 'user-123',
  result: true,
  responseTime: 25,
  cached: false
});
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
```typescript
// èªè¨¼ãƒ»èªå¯
export class AuthMiddleware {
  async authenticate(req: Request, res: Response, next: NextFunction) {
    try {
      const token = req.headers.authorization?.split(' ')[1];
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      req.user = decoded;
      next();
    } catch (error) {
      res.status(401).json({ error: 'Unauthorized' });
    }
  }

  authorize(permissions: string[]) {
    return (req: Request, res: Response, next: NextFunction) => {
      if (!req.user.permissions.some(p => permissions.includes(p))) {
        return res.status(403).json({ error: 'Forbidden' });
      }
      next();
    };
  }
}

// å…¥åŠ›æ¤œè¨¼
export class ValidationMiddleware {
  validateFlagKey(req: Request, res: Response, next: NextFunction) {
    const { flagKey } = req.params;
    if (!/^[a-zA-Z0-9-_]+$/.test(flagKey)) {
      return res.status(400).json({ error: 'Invalid flag key' });
    }
    next();
  }
}
```

## ğŸ”§ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

### ğŸ”Œ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
```typescript
// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
export interface Plugin {
  name: string;
  version: string;
  
  onFlagEvaluated?(event: EvaluationEvent): Promise<void>;
  onFlagCreated?(event: FlagCreatedEvent): Promise<void>;
  onFlagUpdated?(event: FlagUpdatedEvent): Promise<void>;
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä¾‹
export class SlackNotificationPlugin implements Plugin {
  name = 'slack-notification';
  version = '1.0.0';

  async onFlagCreated(event: FlagCreatedEvent): Promise<void> {
    await this.sendSlackMessage(
      `New flag created: ${event.flagKey}`
    );
  }

  async onFlagUpdated(event: FlagUpdatedEvent): Promise<void> {
    await this.sendSlackMessage(
      `Flag updated: ${event.flagKey} - ${event.changes}`
    );
  }
}
```

### ğŸ”„ ã‚«ã‚¹ã‚¿ãƒ ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°
```typescript
// ã‚«ã‚¹ã‚¿ãƒ ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«
export interface TargetingRule {
  name: string;
  evaluate(context: EvaluationContext): Promise<boolean>;
}

// æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°
export class TimeBasedTargeting implements TargetingRule {
  name = 'time-based';

  async evaluate(context: EvaluationContext): Promise<boolean> {
    const now = new Date();
    const hour = now.getHours();
    
    // å–¶æ¥­æ™‚é–“ä¸­ã®ã¿æœ‰åŠ¹
    return hour >= 9 && hour <= 17;
  }
}

// åœ°ç†çš„ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°
export class GeoTargeting implements TargetingRule {
  name = 'geo-based';

  async evaluate(context: EvaluationContext): Promise<boolean> {
    const userCountry = context.getAttribute('country');
    const allowedCountries = ['US', 'CA', 'GB'];
    
    return allowedCountries.includes(userCountry);
  }
}
```

## ğŸ“š å‚è€ƒè³‡æ–™

### ğŸ“– æŠ€è¡“æ–‡æ›¸
- [APIä»•æ§˜æ›¸](./api-specification.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](./database-design.md)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³](./architecture-diagrams.md)
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰](./security-guide.md)

### ğŸ› ï¸ é–‹ç™ºãƒ„ãƒ¼ãƒ«
- [é–‹ç™ºç’°å¢ƒæ§‹ç¯‰](./development-setup.md)
- [ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰](./debugging-guide.md)
- [ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«](./testing-tools.md)
- [ç›£è¦–ãƒ„ãƒ¼ãƒ«](./monitoring-tools.md)

### ğŸ¤ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](./contributing.md)
- [ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¬ã‚¤ãƒ‰](./code-review.md)
- [ã‚¤ã‚·ãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ¼ã‚¸](./issue-triage.md)

---

## ğŸ¯ é–‹ç™ºã®æˆåŠŸæŒ‡æ¨™

### ğŸ“Š å“è³ªæŒ‡æ¨™
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 90% ä»¥ä¸Š
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**: 100% å®Ÿæ–½
- **é™çš„è§£æ**: 0 ä»¶ã®é‡å¤§ãªå•é¡Œ
- **è„†å¼±æ€§**: 0 ä»¶ã®é«˜ãƒªã‚¹ã‚¯

### ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“**: 5åˆ†ä»¥å†…
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“**: 10åˆ†ä»¥å†…
- **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“**: 15åˆ†ä»¥å†…

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [é–‹ç™ºç’°å¢ƒæ§‹ç¯‰](./development-setup.md)ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ï¼