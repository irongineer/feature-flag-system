# 包括的品質レビュー

CLAUDE.mdに記載されたDefinition of Done（DoD）基準を100%達成するための包括的レビューを実行してください。

## 🎯 Definition of Done チェックリスト

### ✅ 必須達成項目

#### 1. **機能実装完了**
- [ ] 要求された機能が完全に実装されている
- [ ] エッジケース・例外処理が適切に実装されている
- [ ] APIレスポンス形式が仕様に準拠している
- [ ] UI/UXが期待通りに動作している

#### 2. **テストカバレッジ90%以上**
- [ ] ユニットテストカバレッジ: 90%以上
- [ ] 統合テストカバレッジ: 85%以上
- [ ] E2Eテストカバレッジ: 主要シナリオ100%
- [ ] テストの品質（アサーション充実度）確認

#### 3. **TypeScript型安全性100%**
- [ ] `tsc --noEmit`でエラー0件
- [ ] `strict: true`設定でのコンパイル成功
- [ ] `any`型の使用が最小限（正当な理由がある場合のみ）
- [ ] 型定義の完全性確認

#### 4. **E2Eテスト通過**
- [ ] Chromium: 全テスト成功
- [ ] WebKit: 全テスト成功  
- [ ] Firefox: 全テスト成功（タイムアウト問題解決）
- [ ] モバイルブラウザ対応確認

#### 5. **Expert Review完了（2名以上承認）**
- [ ] DDD観点レビュー（Eric Evans基準）
- [ ] アーキテクチャ観点レビュー（Martin Fowler基準）
- [ ] TDD・品質観点レビュー（和田卓人基準）
- [ ] 2名以上のApprove取得

#### 6. **CI/CD全チェック通過**
- [ ] ESLint: 違反0件
- [ ] Prettier: フォーマット統一
- [ ] Build: 正常完了
- [ ] デプロイ: 3環境すべて成功

#### 7. **ドキュメント更新**
- [ ] CLAUDE.md更新（必要に応じて）
- [ ] API仕様書更新
- [ ] README更新
- [ ] コード内コメント適切性

## 🔍 品質メトリクス詳細チェック

### コード品質指標
```typescript
// チェック項目例
interface QualityMetrics {
  testCoverage: {
    line: number;        // 90%以上
    branch: number;      // 85%以上
    function: number;    // 95%以上
    statement: number;   // 90%以上
  };
  codeComplexity: {
    cyclomaticComplexity: number;  // 10以下
    cognitiveComplexity: number;   // 15以下
  };
  maintainability: {
    maintainabilityIndex: number;  // 70以上
    technicalDebt: string;         // Low
  };
}
```

### パフォーマンス基準
- **フラグ評価API**: レスポンス時間100ms以下
- **管理画面**: 初期表示3秒以内
- **データベース**: クエリ実行50ms以下
- **E2Eテスト**: 実行時間5分以内

### セキュリティチェック
- [ ] 認証・認可メカニズム適切性
- [ ] SQLインジェクション対策
- [ ] XSS攻撃対策
- [ ] CSRF攻撃対策
- [ ] 秘密情報の適切な管理

## 🏗️ アーキテクチャ品質確認

### レイヤードアーキテクチャ準拠
```typescript
// 層間依存関係の確認
packages/
├── core/         # ドメイン層
├── api/          # アプリケーション層  
└── admin-ui/     # プレゼンテーション層
```

### SOLID原則適合性
- **S**: 単一責任原則
- **O**: 開放閉鎖原則
- **L**: リスコフの置換原則
- **I**: インターフェース分離原則
- **D**: 依存性逆転原則

### DDD実践度
- [ ] 境界コンテキストの明確性
- [ ] エンティティ・値オブジェクトの適切性
- [ ] ドメインサービスの妥当性
- [ ] ユビキタス言語の一貫性

## 📊 1Issue1PR原則確認

### PR品質チェック
- [ ] 1つのIssueに対する変更のみ
- [ ] PRサイズ: 200行以下（推奨）
- [ ] コミットメッセージ: Conventional Commits準拠
- [ ] 変更内容の説明充実度

### レビュープロセス確認
- [ ] セルフレビュー実施済み
- [ ] 関連Issue番号記載
- [ ] 破壊的変更の明示
- [ ] マイグレーション手順（必要時）

## 🎯 改善提案フレームワーク

### 優先度分類
1. **Critical**: DoD未達成項目（即座修正必要）
2. **High**: 品質リスク項目（次PR前に修正）
3. **Medium**: 改善推奨項目（計画的改善）
4. **Low**: 最適化提案（将来的検討）

### 改善提案テンプレート
```markdown
## 🚨 Critical Issues
- [ ] 問題: 具体的問題記述
  - 影響: ビジネス・技術への影響
  - 解決策: 具体的修正方法
  - 期限: 修正期限

## ⚠️ High Priority Issues  
- [ ] 問題: 具体的問題記述
  - 改善案: 段階的改善アプローチ
  - 工数: 見積もり工数

## 💡 Enhancement Opportunities
- [ ] 提案: 改善提案
  - 効果: 期待される効果
  - 実装: 実装方法概要
```

## 📈 品質トレンド分析

### 継続的改善確認
- [ ] 前回レビュー以降の改善状況
- [ ] 技術債務の増減傾向
- [ ] パフォーマンス指標の推移
- [ ] チーム生産性の変化

### ベンチマーク比較
- [ ] 業界標準との比較
- [ ] 社内他プロジェクトとの比較
- [ ] 過去バージョンとの比較

---

**包括的レビュー実行後、DoD達成率とアクションプランを明確に提示してください。**

品質の妥協なく、継続的改善によってプロジェクト成功を確実にしましょう！ 🏆